<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PDF Tools ‚Äì ToolNest</title>
  <link rel="stylesheet" href="../styles.css">
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Roboto:wght@400;500;700&display=swap"
    rel="stylesheet">
</head>

<body>
  <header>
    <div class="header-inner">
      <a href="../index.html" class="logo">ToolNest</a>
      <button class="nav-toggle" onclick="toggleNav()"><span class="hamburger"></span></button>
      <nav>
        <a href="../index.html">Home</a>
        <a href="text-cleaner.html">Text Cleaner</a>
        <a href="image-tools.html">Image Tools</a>
        <a href="qr-generator.html">QR Generator</a>
        <a href="base64-tools.html">Utilities</a>
        <button class="donate-btn">Donate</button>
      </nav>
    </div>
  </header>

  <main class="tool-page">
    <section class="tool-page-header">
      <h1>PDF Tools</h1>
      <p class="tool-page-sub">Merge and split PDF files easily without installation</p>
    </section>

    <section class="panel">
      <div class="lead">üìÑ Merge PDFs</div>
      <p style="color:var(--muted);margin-bottom:1rem">Select 2 or more PDF files to merge them into a single document.
      </p>
      <input type="file" id="pdfFiles" multiple accept=".pdf">
      <button class="btn-cta" onclick="mergePDFs()" style="margin-top:1rem">Merge PDFs</button>
    </section>

    <section class="panel">
      <div class="lead">‚úÇÔ∏è Split PDF</div>
      <p style="color:var(--muted);margin-bottom:1rem">Select a PDF file to split it into individual pages.</p>
      <input type="file" id="pdfFilesSplit" accept=".pdf">
      <button class="btn-cta" onclick="splitPDF()" style="margin-top:1rem">Split PDF</button>
    </section>

    <section class="panel" id="results" style="display:none">
      <div class="lead">‚úÖ Ready to Download</div>
      <div class="results" id="resultsList"></div>
    </section>

    <section class="features">
      <div class="feature-card">
        <h3>üöÄ Fast Processing</h3>
        <p>Merge and split PDFs in seconds with optimized algorithms that maintain quality.</p>
      </div>
      <div class="feature-card">
        <h3>üîê Secure & Private</h3>
        <p>All processing happens in your browser. Your files are never uploaded to any server.</p>
      </div>
      <div class="feature-card">
        <h3>‚ôªÔ∏è Batch Operations</h3>
        <p>Handle multiple files at once and download results in seconds.</p>
      </div>
    </section>

    <section class="panel" style="background:linear-gradient(135deg,var(--accent-soft),rgba(52,179,255,.02))">
      <div class="lead">üìñ How to Use</div>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem">
        <div>
          <h4 style="color:var(--accent);font-weight:700;margin-bottom:.8rem">üìÑ Merge PDFs</h4>
          <ol style="color:#666;line-height:1.9;margin-left:1.5rem;font-size:.9rem">
            <li>Select 2+ PDFs</li>
            <li>Click "Merge PDFs"</li>
            <li>Download merged file</li>
          </ol>
        </div>
        <div>
          <h4 style="color:var(--accent);font-weight:700;margin-bottom:.8rem">‚úÇÔ∏è Split PDFs</h4>
          <ol style="color:#666;line-height:1.9;margin-left:1.5rem;font-size:.9rem">
            <li>Select PDF</li>
            <li>Click "Split PDF"</li>
            <li>Download ZIP with pages</li>
          </ol>
        </div>
      </div>
    </section>

    <section class="panel" style="border-left:5px solid var(--accent-warm)">
      <div class="lead">üí° Pro Tips</div>
      <ul style="color:#666;line-height:2;margin-left:1.5rem">
        <li><strong>Merge Order:</strong> Files are merged in the order you select them</li>
        <li><strong>Large Files:</strong> Works with PDFs of any size up to browser memory limits</li>
        <li><strong>Privacy First:</strong> No data is stored or transmitted ‚Äì 100% local processing</li>
      </ul>
    </section>

    <div class="ad-placeholder">Advertisement Space</div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
  <script>
    async function mergePDFs() {
      const files = document.getElementById('pdfFiles').files;
      if (files.length < 2) { alert('Please select at least 2 PDFs'); return }
      const mergedPdf = await PDFLib.PDFDocument.create();
      for (const file of files) {
        const bytes = await file.arrayBuffer();
        const pdf = await PDFLib.PDFDocument.load(bytes);
        const pages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
        pages.forEach(page => mergedPdf.addPage(page));
      }
      const blob = new Blob([await mergedPdf.save()], { type: 'application/pdf' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'merged.pdf';
      a.click();
    }
    async function splitPDF() {
      const file = document.getElementById('pdfFilesSplit').files[0];
      if (!file) { alert('Please select a PDF'); return }
      const pdf = await PDFLib.PDFDocument.load(await file.arrayBuffer());
      const zip = new JSZip();
      for (let i = 0; i < pdf.getPageCount(); i++) {
        const newPdf = await PDFLib.PDFDocument.create();
        const [page] = await newPdf.copyPages(pdf, [i]);
        newPdf.addPage(page);
        zip.file(`page_${i + 1}.pdf`, await newPdf.save());
      }
      const blob = await zip.generateAsync({ type: 'blob' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'pages.zip';
      a.click();
    }
    function toggleNav() { document.querySelector('nav').classList.toggle('open'); }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</body>

</html>